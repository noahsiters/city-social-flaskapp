<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>City Social Matcher</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="content">
            <div class="dataInputForm">
                <form name="f_dataInput" action="/f_dataInput" method="post" enctype="multipart/form-data">
                    <!-- api key input -->
                    <label for="apikey">Jotform API Key:</label>
                    <input type="text" id="apikey" name="apikey">
                    <br>
                    <br>

                    <!-- input type selection -->
                    <div class="radios">
                        <label class="radio">
                          <input type="radio" name="inputType" id="file_upload" value="file_upload" onclick="fileInputSelected()"/>
                          Input Via File
                        </label>
                        <label class="radio">
                          <input type="radio" name="inputType" id="id_input" value="id_input" onclick="submissionIdInputSelected()"/>
                          Input Via Form ID/Submission IDs
                        </label>
                    </div>
                    <br>
                    <br>

                    <!-- form id or submission id input -->
                    <label for="submissionId">Form/SubmissionIDs</label>
                    <input type="text" id="submissionId" name="submissionId" disabled>
                    <br>
                    <br>

                    <!-- file input -->
                    <label for="myfile">Select a file:</label>
                    <input type="file" id="myfile" name="file" disabled>
                    <br>
                    <br>

                    <!-- event date input -->
                    <label for="eventDate">Event Date:</label>
                    <input type="date" id="eventDate" name="eventDate">
                    <br>
                    <br>

                    <!-- preference list checkbox -->
                    <input type="checkbox" id="preferenceListCheckbox" name="preferenceListCheckbox" value="Yes">
                    <label for="preferenceListCheckbox">Include Preference Lists?</label><br>
                    <br>
                    <br>

                    <input type="submit" value="Submit">
                    <p>You can also submit a list of Submission IDs that are comma separated with no spaces.</p>
                    <p>NOTE: If no date is selected, all submissions will be processed.</p>

                    <script>
                        window.onload = function() {
                            radioFileInput = document.getElementById("file_upload")
                            radioIdInput = document.getElementById("id_input")

                            if (radioFileInput.checked) {
                                fileInputSelected()
                            }
                            else if (radioIdInput.checked) {
                                submissionIdInputSelected()
                            }
                        }

                        function fileInputSelected() {
                            submissionIdInput = document.getElementById("submissionId")
                            fileInput = document.getElementById("myfile")

                            submissionIdInput.disabled = true
                            fileInput.disabled = false
                        }

                        function submissionIdInputSelected() {
                            submissionIdInput = document.getElementById("submissionId")
                            fileInput = document.getElementById("myfile")

                            submissionIdInput.disabled = false
                            fileInput.disabled = true
                        }
                    </script>
                </form>
            </div>
            <div class="submissionsOutput">
                {% if key == "BadKey" %}
                    <p>Invalid API Key</p>
                {% elif key == "BadForm" %}
                    <p>Invalid Form ID</p>
                {% elif key == "NoDateGiven" %}
                    <p>No Date Given</p>
                {% elif key == "NoFile" %}
                    <p>No File</p>
                {% elif key == "NoInputType" %}
                    <p>No Input Type Selected</p>
                {% endif %}
            </div>
            <div class="matchesOutput">

            </div>
        </div>
    </body>
</html>